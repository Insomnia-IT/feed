# Схема синхронизации Участия

# Общие принципы

## Источник и потребитель

Источник - это там, где хранятся данные. Потребитель - это тот кто будет забирать данные

Потребители

- Кормитель

Источники

- Ноушен
- Кода

## Отметка синхронизации

После того как мы получили запись из источника, то нужно как-то отметить, что эту запись нужно синхронизировать в других источниках. Для этого, например, в базе данных можно к таблице Участия добавить булевую колонку sync_notion, sync_coda, которая будет являться этой отметкой

## Пушер, сборщик

Пушер - скрипт, который забирает данные, например, из БД, которые нужно засинкать в источник и обновляет им отметку, если синк ок

Сборщик - скрипт, который забирает данные из источников и пихать их в БД с отметкой, что их надо синкать пушерам

## Запуск пушеров и сборщиков

Общение пушеров и сборщиков предлагаю реализовать через БД с помощью отметок. Запускать по крону(расписанию) и в каких-то случаях через бот управления

# Описание схемы

Сначала ноушен такой типа йоу

# Вопросы

## Ноушен

### Выборка данных без дублей

Есть ли возможность выбирать актуальные данные, которые реально нужно синкать? Чтобы не забирать всю таблицу постоянно

## Кода

### Выборка данных без дублей

Есть ли возможность выбирать актуальные данные, которые реально нужно синкать? Чтобы не забирать всю таблицу постоянно

### Как синкать удаленные строки из источников?

Хз вообще как синкать удаление. Если в коде удалили запись, то как мы узнаем это?

---